<!DOCTYPE html>
<html>
  <body>

    <div class="site">

		<header class="header">

			<div class="logo"></div>

		</header>

		<main class="main">

			<div class="content">
				
				<div class="content__player">

					<div class="content__options">

						<a href="#" class="content__option content__option--navigation js-navigation">
							<span class="content__icon">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 384"><path d="M306 90c37.556 0 68.001 30.445 68.001 68S343.556 226 306 226s-68-30.445-68-68 30.444-68 68-68zm0 238c37.556 0 68.001 30.445 68.001 68S343.556 464.001 306 464.001 238 433.556 238 396s30.444-68 68-68zm0 237.999c37.556 0 68.001 30.444 68.001 68.001 0 37.555-30.445 68-68.001 68s-68-30.445-68-68c0-37.557 30.444-68.001 68-68.001z"/></svg>
							</span>
						</a>
	
						<a href="" class="content__option content__option--playlist">
							
						</a>

					</div>

	
					<div class="content__overlay">

						<div class="navigation">

							<ul class="navigation__items">
						
								<li class="navigation__item">
						
									<a href="PL9tY0BWXOZFv-V7FvZP-PWuE-1x2Deqqe" class="navigation__link navigation__link--main">Hip hop</a>
									<a href="PLwE3TEHTVMsJiSA9KlvGcHUYS70Bz7Gfw" class="navigation__link navigation__link--sub">Oldschool</a>
									<a href="PLabJQI0gItOiZXmf5xTNUq7Y2VimUKdlq" class="navigation__link navigation__link--sub">European</a>
						
								</li>
								
								<li class="navigation__item">
						
									<a href="PLjzeyhEA84sS6ogo2mXWdcTrL2HRfJUv8" class="navigation__link navigation__link--main">House</a>
									<a href="#" class="navigation__link navigation__link--sub">Oldschool</a>
									<a href="#" class="navigation__link navigation__link--sub">Trap</a>
						
								</li>
								
								<li class="navigation__item">
						
									<a href="PL4o29bINVT4EG_y-k5jGoOu3-Am8Nvi10" class="navigation__link navigation__link--main">Pop</a>
									<a href="PLwE3TEHTVMsIw0OQwfGtKIclsNtz8Lem0" class="navigation__link navigation__link--sub">European</a>
						
								</li>
								
								<li class="navigation__item">
						
									<a href="#" class="navigation__link navigation__link--main">R&B</a>
									<a href="#" class="navigation__link navigation__link--sub">90's</a>
						
								</li>
								
								<li class="navigation__item">
						
									<a href="#" class="navigation__link navigation__link--main">Reaggea</a>
									<a href="#" class="navigation__link navigation__link--sub">Hip hop</a>
						
								</li>
								
								<li class="navigation__item">
						
									<a href="#" class="navigation__link navigation__link--main">Podcasts</a>
									<a href="#" class="navigation__link navigation__link--sub">Joe Rogan</a>
									<a href="PLcv90EucFrogywPfE5UGrbMkJopX4tdBD" class="navigation__link navigation__link--sub">Vlad TV</a>
						
								</li>
								
								<li class="navigation__item">
						
									<a href="#" class="navigation__link navigation__link--main">Interviews</a>
									<a href="PLcv90EucFrogywPfE5UGrbMkJopX4tdBD" class="navigation__link navigation__link--sub">Vlad TV</a>
						
								</li>
						
							</ul>
						
						</div>

					</div>

					<div id="player" class="player"></div>

					<div class="video-title js-title"></div>

				</div>

				<div class="content__controls">

					<bottom class="bottom">

						<div class="bottom__main-controls">
			
							<div class="bottom__controls">
			
								<a href="#" class="bottom__control-item bottom__control-item--shuffle js-shuffle">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M21.333 149.327H64c18.773 0 37.227 4.928 53.333 14.272a21.178 21.178 0 0 0 10.688 2.88c7.36 0 14.528-3.819 18.475-10.624 5.931-10.197 2.432-23.253-7.744-29.163C116.117 113.594 90.283 106.66 64 106.66H21.333C9.536 106.66 0 116.218 0 127.994s9.536 21.333 21.333 21.333zM320 149.327h42.667v64a21.36 21.36 0 0 0 12.075 19.221 21.572 21.572 0 0 0 9.259 2.112c4.757 0 9.472-1.6 13.333-4.672L504 144.655a21.347 21.347 0 0 0 0-33.322L397.333 25.999c-6.421-5.12-15.232-6.101-22.592-2.56s-12.075 11.029-12.075 19.221v64H320c-82.325 0-149.333 66.987-149.333 149.333 0 58.816-47.851 106.667-106.667 106.667H21.333C9.536 362.66 0 372.218 0 383.994s9.536 21.333 21.333 21.333H64c82.325 0 149.333-66.987 149.333-149.333 0-58.816 47.851-106.667 106.667-106.667zM504 367.336l-106.667-85.333c-6.421-5.141-15.232-6.123-22.592-2.581a21.392 21.392 0 0 0-12.075 19.243v64H320c-21.077 0-41.472-6.144-58.965-17.771-9.856-6.485-23.061-3.861-29.568 5.973-6.528 9.813-3.861 23.061 5.952 29.568 24.512 16.277 53.056 24.896 82.581 24.896h42.667v64a21.36 21.36 0 0 0 12.075 19.221 21.572 21.572 0 0 0 9.259 2.112c4.757 0 9.472-1.6 13.333-4.672L504 400.659a21.378 21.378 0 0 0 8-16.661c0-6.486-2.944-12.63-8-16.662z" fill="currentColor"/></svg>
								</a>

								<a href="#" class="bottom__control-item bottom__control-item--previous js-previous">
									<svg xmlns="http://www.w3.org/2000/svg" width="550.8" height="612" viewBox="30.6 90 550.8 612"><path d="M61.201 702c16.891 0 30.6-13.709 30.6-30.6V448.326l444.006 249.757c9.363 5.263 21.053 5.202 30.416-.245 9.364-5.446 15.178-15.545 15.178-26.438V120.6c0-10.894-5.814-20.93-15.178-26.438a30.707 30.707 0 0 0-15.422-4.161c-5.202 0-10.344 1.285-14.994 3.917L91.8 343.674V120.6c0-16.891-13.709-30.6-30.6-30.6-16.891 0-30.6 13.709-30.6 30.6v550.8c0 16.891 13.709 30.6 30.601 30.6z" fill="currentColor"/></svg>
								</a>
								
								<a href="#" class="bottom__control-item bottom__control-item--play js-play">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.604 47.604"><path d="M43.331 21.237L7.233.397a2.959 2.959 0 0 0-4.44 2.563v41.684a2.957 2.957 0 0 0 2.96 2.96c.511 0 1.022-.133 1.48-.397l36.098-20.84a2.964 2.964 0 0 0 0-5.13z" fill="currentColor"/></svg>
								</a>
								
								<a href="#" class="bottom__control-item bottom__control-item--pause js-pause">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 47.607 47.607"><path d="M17.991 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345zM42.877 40.976a6.631 6.631 0 0 1-13.262 0V6.631a6.631 6.631 0 0 1 13.262 0v34.345z" fill="currentColor"/></svg>
								</a>
								
								<a href="#" class="bottom__control-item bottom__control-item--next js-next">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 320"><path d="M288 0c-8.832 0-16 7.168-16 16v116.64L39.84 2.048c-4.896-2.752-11.008-2.72-15.904.128S16 10.304 16 16v288c0 5.696 3.04 10.944 7.936 13.824A16.056 16.056 0 0 0 32 320c2.72 0 5.408-.672 7.84-2.048L272 187.36V304c0 8.832 7.168 16 16 16s16-7.168 16-16V16c0-8.832-7.168-16-16-16z" fill="currentColor"/></svg>
								</a>
								
								<a href="#" class="bottom__control-item bottom__control-item--repeat js-repeat">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.991 511.991"><path d="M465.45 279.263c-12.87 0-23.273 10.426-23.273 23.273 0 38.493-31.325 69.818-69.818 69.818H186.177v-69.818c0-8.937-5.143-17.105-13.172-20.969-8.122-3.863-17.641-2.793-24.646 2.793L31.995 377.451a23.29 23.29 0 0 0 0 36.352l116.364 93.091a23.368 23.368 0 0 0 14.545 5.097c3.421 0 6.889-.768 10.1-2.304 8.029-3.863 13.172-12.032 13.172-20.969V418.9h186.182c64.163 0 116.364-52.201 116.364-116.364.001-12.847-10.402-23.273-23.272-23.273zM46.541 232.718c12.87 0 23.273-10.426 23.273-23.273 0-38.493 31.325-69.818 69.818-69.818h186.182v69.818c0 8.937 5.143 17.105 13.172 20.969 3.235 1.536 6.679 2.304 10.1 2.304a23.36 23.36 0 0 0 14.545-5.097l116.364-93.091a23.29 23.29 0 0 0 0-36.352L363.632 5.087c-6.982-5.585-16.617-6.656-24.646-2.793s-13.172 12.032-13.172 20.969v69.818H139.632c-64.163 0-116.364 52.201-116.364 116.364 0 12.847 10.403 23.273 23.273 23.273z" fill="currentColor"/></svg>
								</a>
			
							</div>
			
							
							<div class="bottom__progress">

								<div class="bottom__current js-current"></div>

								<div class="bottom__progress-bar">
									<input type="range" id="progress-bar" class="progress-bar" value="0">
								</div>

								<div class="bottom__duration js-duration"></div>

							</div>
							
						</div>
						
						<div class="bottom__volume">

							<div class="volume">

								<div class="volume__button js-mute">

									<div class="volume__icon">

										<svg xmlns="http://www.w3.org/2000/svg" width="612.938" height="571.908" viewBox="313.257 -9.731 612.938 571.908"><path d="M681.395 284.932L505.639 109.176 648.265-4.918c6.12-4.937 14.484-5.834 21.583-2.448 7.059 3.427 11.547 10.567 11.547 18.401v273.897zm122.399-8.698c0 36.15-11.54 70.299-32.865 98.232l29.054 29.054c28.923-35.723 44.612-80.161 44.612-127.286 0-54.877-21.257-106.121-59.936-144.269-8.038-7.915-20.931-7.793-28.846.163-7.915 8.038-7.834 20.931.163 28.887 30.845 30.437 47.818 71.359 47.818 115.219zm81.601 0c0 57.831-19.957 112.436-56.609 156.089l28.971 28.97c44.31-51.402 68.438-116.294 68.438-185.059 0-76.418-29.784-148.063-83.967-201.756-8.037-7.956-20.93-7.875-28.886.123-7.915 7.997-7.834 20.93.122 28.846 46.39 45.981 71.931 107.344 71.931 172.787zM350.55-3.34c-8.522-8.522-22.378-8.522-30.901 0-8.522 8.522-8.522 22.378 0 30.901L437.15 145.106l8.728 8.728h-90.884c-22.48 0-40.8 18.319-40.8 40.8v163.2c0 22.521 18.319 40.8 40.8 40.8h94.819l198.41 158.753a20.601 20.601 0 0 0 12.771 4.447c3.02 0 6.038-.693 8.854-2.04a20.358 20.358 0 0 0 11.547-18.359V389.352l166.4 166.401c4.283 4.283 9.879 6.424 15.473 6.424s11.189-2.141 15.473-6.381c8.521-8.566 8.521-22.377 0-30.945L350.55-3.34z" fill="currentColor"/></svg>

									</div>
									
									<div class="volume__icon volume__icon--dimmed js-dimmed">

										<svg xmlns="http://www.w3.org/2000/svg" width="612.938" height="571.908" viewBox="313.257 -9.731 612.938 571.908"><path d="M669.193-7.707c-7.105-3.389-15.477-2.491-21.601 2.45L448.984 153.622H354.09c-22.499 0-40.833 18.333-40.833 40.832v163.329c0 22.541 18.334 40.833 40.833 40.833h94.895l198.567 158.879a20.62 20.62 0 0 0 12.78 4.45c3.021 0 6.043-.693 8.861-2.042a20.376 20.376 0 0 0 11.555-18.373V10.708c0-7.839-4.492-14.985-11.555-18.415zm114.902 139.442c-8.044-7.921-20.947-7.799-28.868.164-7.922 8.044-7.84 20.947.163 28.91 30.869 30.46 47.855 71.415 47.855 115.31 0 43.895-16.986 84.85-47.855 115.311-8.003 7.882-8.085 20.824-.163 28.868a20.34 20.34 0 0 0 14.494 6.044 20.347 20.347 0 0 0 14.374-5.922c38.708-38.096 59.982-89.381 59.982-144.301 0-54.92-21.274-106.205-59.982-144.384z" fill="currentColor"/></svg>

									</div>
									
									<div class="volume__icon volume__icon--unmuted">

										<svg xmlns="http://www.w3.org/2000/svg" width="612" height="571.224" viewBox="0 110.388 612 571.224"><path d="M355.653 112.411c-7.099-3.386-15.463-2.489-21.583 2.448L135.619 273.611H40.8c-22.48 0-40.8 18.319-40.8 40.8v163.2c0 22.521 18.319 40.8 40.8 40.8h94.819l198.41 158.753a20.601 20.601 0 0 0 12.771 4.447c3.02 0 6.038-.693 8.854-2.04a20.358 20.358 0 0 0 11.547-18.359v-530.4c-.001-7.834-4.489-14.974-11.548-18.401zm114.812 139.332c-8.038-7.915-20.931-7.793-28.846.163-7.915 8.038-7.834 20.931.163 28.887 30.845 30.437 47.817 71.359 47.817 115.219 0 43.859-16.973 84.782-47.817 115.219-7.997 7.875-8.078 20.809-.163 28.846a20.328 20.328 0 0 0 14.484 6.038 20.326 20.326 0 0 0 14.361-5.916c38.679-38.066 59.936-89.311 59.936-144.187 0-54.877-21.256-106.121-59.935-144.269zm57.568-57.488c-8.037-7.956-20.93-7.875-28.886.123-7.915 7.997-7.834 20.93.122 28.846 46.39 45.981 71.931 107.345 71.931 172.788s-25.541 126.766-71.931 172.747c-7.956 7.956-8.037 20.89-.122 28.887 4.039 3.998 9.262 5.997 14.483 5.997a20.42 20.42 0 0 0 14.402-5.916C582.216 544.074 612 472.43 612 396.012c0-76.419-29.784-148.064-83.967-201.757z" fill="currentColor"/></svg>

									</div>

								</div>

								<input type="range" id="volume" class="volume__range js-volume" value="">

							</div>

						</div>
			
					</bottom>

				</div>

			</div>

		</main>

    </div>

    <script>
		// 2. This code loads the IFrame Player API code asynchronously.
		var tag = document.createElement('script');

		tag.src = "https://www.youtube.com/iframe_api";
		var firstScriptTag = document.getElementsByTagName('script')[0];
		firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
		
		// Player
		var player;
		var playlistId = 'PL9tY0BWXOZFv-V7FvZP-PWuE-1x2Deqqe';

		function onYouTubeIframeAPIReady() {
			player = new YT.Player('player', {
				height: '427',
				width: '700',
				playerVars: { 'controls': 0, 'autoplay': 1, loop: 1, 'listType': 'playlist', 'list': playlistId },
				events: {
				'onReady': onPlayerReady,
				'onStateChange': onPlayerStateChange
				}
			});
		}

		// 4. The API will call this function when the video player is ready.
		function onPlayerReady(event) {
			event.target.playVideo();

			if (localStorage.getItem('playListId') !== null) {
				const playList = localStorage.getItem('playListId');
				
				player.loadPlaylist({
					list: playList,
                    listType: 'playlist'
				})

			}

			// Add playing class
			document.body.classList.add('is-playing');

			// Clear any old interval.
			clearInterval(time_update_interval);

			// Start interval to update elapsed time display and
			// the elapsed part of the progress bar every second.
			const time_update_interval = setInterval(function () {
				updateProgressBar();
				updateTimerDisplay();
			}, 1000)

		}

		// 5. The API calls this function when the player's state changes.
		//    The function indicates that when playing a video (state=1),
		//    the player should play for six seconds and then stop.
		var done = false;
		function onPlayerStateChange(event) {
			var videoData = player.getVideoData();
			var title = videoData['title'];

			// Check the player state
			const playerState = player.getPlayerState();

			// Get the video title
			const videoTitle = document.querySelector('.js-title');
			videoTitle.innerHTML = `${title}`;

			if (playerState === 2) {
				document.body.classList.remove('is-playing');
			} else { 
				document.body.classList.add('is-playing');
			}

			// Repeat function
			if (document.body.classList.contains('is-repeat')) {
				
				if (player.getPlayerState() === 0) {
					player.previousVideo();
				}

			}

		}
		
		// Pause button
		var pauseButton = document.querySelector('.js-pause');

		pauseButton.addEventListener('click', function(e) {
			e.preventDefault();
			const body = document.body;
			
			if (body.classList.contains('is-playing')) {
				body.classList.remove('is-playing');
				player.pauseVideo();
			}

		})

		// Play button
		var playButton = document.querySelector('.js-play');

		playButton.addEventListener('click', function(e) {
			e.preventDefault();
			const body = document.body;

			body.classList.add('is-playing');
			player.playVideo();
		})

		// Next Video
		var nextButton = document.querySelector('.js-next');

		nextButton.addEventListener('click', function(e) {
			e.preventDefault();

			if (document.body.classList.contains('is-repeat')) {
				document.body.classList.remove('is-repeat');
			}

			player.nextVideo();
		})
		
		// Previous Video
		var previousButton = document.querySelector('.js-previous');

		previousButton.addEventListener('click', function(e) {
			e.preventDefault();
			if (document.body.classList.contains('is-repeat')) {
				document.body.classList.remove('is-repeat');
			}
			
			player.previousVideo();
		})
		
		// Repeat Button
		var repeatButton = document.querySelector('.js-repeat');

		repeatButton.addEventListener('click', function(e) {
			e.preventDefault();

			const body = document.body;
			
			if (!body.classList.contains('is-repeat')) {
				body.classList.add('is-repeat');
			} else {
				body.classList.remove('is-repeat');
			}
		})

		// Navigation Button
		var navigationButton = document.querySelector('.js-navigation');
		
		navigationButton.addEventListener('click', function(e) {
			e.preventDefault();
			document.body.classList.toggle('is-visible');
		})

		// Shuffle button
		var shuffleButton = document.querySelector('.js-shuffle');
		
		shuffleButton.addEventListener('click', function(e) {
			e.preventDefault();
			
			if (!document.body.classList.contains('is-shuffled')) {
				document.body.classList.add('is-shuffled');
				player.setShuffle(true);
			} else {
				document.body.classList.remove('is-shuffled');
				player.setShuffle(true);
			}

		})

		// Progress bar
		const progressBar = document.querySelector('.progress-bar');

		progressBar.addEventListener('mouseup', function(e) {
			var newTime = player.getDuration() * (e.target.value / 100);

			// Skip video to new time.
			player.seekTo(newTime);
		})

		function updateProgressBar(){
			const progressValue =  (player.getCurrentTime() / player.getDuration()) * 100;
			progressBar.value = progressValue;
		}

		// Duration
		const currentDiv = document.querySelector('.js-current');
		const totalDurationDiv = document.querySelector('.js-duration');

		function formatTime(time){
			time = Math.round(time);

			var minutes = Math.floor(time / 60),
			seconds = time - minutes * 60;

			seconds = seconds < 10 ? '0' + seconds : seconds;

			return minutes + ":" + seconds;
		}

		function updateTimerDisplay(){			
			const currentTime = formatTime(player.getCurrentTime());
			const totalDuration = formatTime(player.getDuration());
			
			currentDiv.innerHTML = `<p>${currentTime}</p>`
			totalDurationDiv.innerHTML = `<p>${totalDuration}</p>`;
		}

		// Mute button
		const body = document.body;
		const muteButton = document.querySelector('.js-mute');

		muteButton.addEventListener('click', function(e) {
			if(player.isMuted()){
				body.classList.remove('is-muted');
				player.unMute();
			} else{
				body.classList.add('is-muted');
				body.classList.remove('is-dimmed');
				player.mute();
			}
		})

		// Volume
		const volume = document.querySelector('.js-volume');
		
		volume.addEventListener('mouseup', function (e) {
			const volumeValue = e.target.value;

			if (volumeValue > 0 && volumeValue < '50') {
				document.body.classList.add('is-dimmed');
				document.body.classList.remove('is-muted');
			} else if (volumeValue === '0') {
				document.body.classList.add('is-muted');
				document.body.classList.remove('is-dimmed');
			} else if (volumeValue > '50') {
				document.body.classList.remove('is-muted');
				document.body.classList.remove('is-dimmed');
			}

			player.setVolume(volumeValue);
		});

		// Navigation items
		const navigationList = document.querySelector('.navigation__items');
		const navigationLinks = navigationList.querySelectorAll('.navigation__link');

		for (let index = 0; index < navigationLinks.length; index++) {
			const link = navigationLinks[index];

			link.addEventListener('click', function(e) {
				e.preventDefault();
				const body = document.body;
				
				body.classList.remove('is-visible');
				body.classList.remove('is-repeat');
				body.classList.remove('is-shuffled');

				const playlistLink = link.getAttribute('href');
				playlistId = playlistLink;

				player.loadPlaylist({
					list: playlistId,
                    listType: 'playlist'
				})

				localStorage.setItem('playListId', playlistId);
			})
			
		}

		// Key presses
		document.onkeydown = function (event) {
			const body = document.body;

			// Play / Pause button
			if (event.keyCode === 32) {
				
				if (body.classList.contains('is-playing')) {
					body.classList.remove('is-playing');
					player.pauseVideo();
				} else {
					body.classList.add('is-playing');
					player.playVideo();
				}

			}

			// Mute button
			if (event.keyCode === 77) {
				const dimmedVolume = document.querySelector('.js-dimmed');

				if(!player.isMuted()){
					body.classList.add('is-muted');
					dimmedVolume.style.display = 'none';
	
					player.mute();
				} else {
					body.classList.remove('is-muted');
					body.classList.remove('is-dimmed');
					dimmedVolume.style.display = 'block';
	
					player.unMute();
				}
			}

			// Progress Forward
			if (event.keyCode === 37) {
				const newTime = player.getCurrentTime() - 1;

				player.seekTo(newTime);
			}
			
			if (event.keyCode === 39) {
				const newTime = player.getCurrentTime() + 1;

				player.seekTo(newTime);
			}

			// Volume buttons

			if (event.keyCode === 38) {
				const newVolume = player.getVolume() + 5;

				console.log(newVolume);

				player.setVolume(newVolume);
			}
			
			if (event.keyCode === 40) {
				const newVolume = player.getVolume() - 5;

				console.log(newVolume);

				player.setVolume(newVolume);
			}

			// Next video
			if (event.keyCode == 91 && event.keyCode == 39) {}
			
		};
	  
    </script>

    <script src="main.js"></script>
    
  </body>
</html>